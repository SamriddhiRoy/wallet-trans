{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import*as d3 from\"d3\";import{useDispatch,useSelector}from\"react-redux\";import{setNodePositions}from\"../store/graphSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Graph=_ref=>{let{nodes,links}=_ref;const svgRef=useRef();const gRef=useRef();const minimapRef=useRef();const dispatch=useDispatch();const storedPositions=useSelector(state=>state.graph.nodePositions);useEffect(()=>{const svg=d3.select(svgRef.current);svg.selectAll(\"*\").remove();const width=1200;const height=800;const inflowLinks=links.filter(link=>{var _nodes$,_link$target,_nodes$2;return link.target===((_nodes$=nodes[0])===null||_nodes$===void 0?void 0:_nodes$.id)||((_link$target=link.target)===null||_link$target===void 0?void 0:_link$target.id)===((_nodes$2=nodes[0])===null||_nodes$2===void 0?void 0:_nodes$2.id);});const outflowLinks=links.filter(link=>{var _nodes$3,_link$source,_nodes$4;return link.source===((_nodes$3=nodes[0])===null||_nodes$3===void 0?void 0:_nodes$3.id)||((_link$source=link.source)===null||_link$source===void 0?void 0:_link$source.id)===((_nodes$4=nodes[0])===null||_nodes$4===void 0?void 0:_nodes$4.id);});const centerNode=nodes[0];const directedLinks=links.map(link=>{var _link$source2,_link$target2;const sourceId=typeof link.source===\"string\"?link.source:(_link$source2=link.source)===null||_link$source2===void 0?void 0:_link$source2.id;const targetId=typeof link.target===\"string\"?link.target:(_link$target2=link.target)===null||_link$target2===void 0?void 0:_link$target2.id;if(sourceId===(centerNode===null||centerNode===void 0?void 0:centerNode.id)){return{...link,source:sourceId,target:targetId};}else if(targetId===(centerNode===null||centerNode===void 0?void 0:centerNode.id)){return{...link,source:centerNode.id,target:sourceId};}return{...link};});const g=svg.append(\"g\");gRef.current=g;const zoom=d3.zoom().scaleExtent([0.1,10]).on(\"zoom\",event=>{g.attr(\"transform\",event.transform);updateMinimapView(event.transform);});svg.call(zoom);g.append(\"defs\").append(\"marker\").attr(\"id\",\"arrow\").attr(\"viewBox\",\"0 -5 10 10\").attr(\"refX\",28).attr(\"refY\",0).attr(\"markerWidth\",6).attr(\"markerHeight\",6).attr(\"orient\",\"auto\").append(\"path\").attr(\"d\",\"M0,-5L10,0L0,5\").attr(\"fill\",\"#00f2ff\");const link=g.append(\"g\").selectAll(\"line\").data(directedLinks).enter().append(\"line\").attr(\"stroke-width\",2.5).attr(\"stroke\",d=>parseFloat(d.amount)>1?\"#00f2ff\":\"#ff00a1\").attr(\"stroke-dasharray\",d=>parseFloat(d.amount)>1?\"5,3\":\"4,3\").attr(\"marker-end\",\"url(#arrow)\");nodes.forEach(node=>{const saved=storedPositions[node.id];if(saved){node.fx=saved.fx;node.fy=saved.fy;}});const simulation=d3.forceSimulation(nodes).force(\"link\",d3.forceLink(directedLinks).id(d=>d.id).distance(200)).force(\"charge\",d3.forceManyBody().strength(-400)).force(\"center\",d3.forceCenter(width/2,height/2));const node=g.append(\"g\").selectAll(\"foreignObject\").data(nodes).enter().append(\"foreignObject\").attr(\"width\",180).attr(\"height\",60).attr(\"x\",-90).attr(\"y\",-30).html(d=>{const label=d.label||`${d.id.slice(0,6)}...${d.id.slice(-6)}`;const dateTime=d.timestamp?`<div style=\"font-size:10px; color:#eee; margin-top:2px;\">${d.timestamp}</div>`:'';return`\n          <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"\n            background: ${d.label===\"Changenow\"?\"#ff8800\":d.label===\"Whitebit\"?\"#b794f4\":d.label?\"#ffb6c1\":\"#38b2ac\"};\n            border-radius: 25px;\n            padding: 6px 10px;\n            color: white;\n            text-align: center;\n            font-size: 13px;\n            font-weight: 500;\n            box-shadow: 0 0 8px rgba(255,255,255,0.5);\n            cursor: move;\">\n            <div>${label}</div>\n            ${dateTime}\n          </div>`;}).call(drag(simulation));const edgeLabels=g.append(\"g\").selectAll(\"text\").data(directedLinks).enter().append(\"text\").attr(\"fill\",\"#fff\").attr(\"font-size\",\"12px\").attr(\"font-weight\",\"bold\").attr(\"text-anchor\",\"middle\").style(\"opacity\",1).text(d=>{var _d$amount;const amount=parseFloat((_d$amount=d.amount)===null||_d$amount===void 0?void 0:_d$amount.replace(\" BTC\",\"\"));const timestamp=d.timestamp||\"\";return`${amount} BTC | ${timestamp}`;});simulation.on(\"tick\",()=>{const spacingX=350;const spacingY=200;const centerX=width/2;const centerY=height/2;if(centerNode&&centerNode.fx===undefined){centerNode.fx=centerX;centerNode.fy=centerY;}inflowLinks.forEach((link,i)=>{const yOffset=inflowLinks.length===1?-350:(i-(inflowLinks.length-1)/2)*spacingY;const sourceNode=typeof link.source===\"string\"?nodes.find(n=>n.id===link.source):link.source;if(sourceNode&&sourceNode.fx===undefined){sourceNode.fx=centerX-spacingX;sourceNode.fy=centerY+yOffset;}});outflowLinks.forEach((link,i)=>{const yOffset=outflowLinks.length===1?150:(i-(outflowLinks.length-1)/2)*spacingY;const targetNode=typeof link.target===\"string\"?nodes.find(n=>n.id===link.target):link.target;if(targetNode&&targetNode.fx===undefined){targetNode.fx=centerX+spacingX;targetNode.fy=centerY+yOffset;}});link.attr(\"x1\",d=>d.source.x).attr(\"y1\",d=>d.source.y).attr(\"x2\",d=>d.target.x).attr(\"y2\",d=>d.target.y);node.attr(\"x\",d=>d.x-90).attr(\"y\",d=>d.y-30);edgeLabels.attr(\"x\",d=>(d.source.x+d.target.x)/2).attr(\"y\",d=>(d.source.y+d.target.y)/2-20);renderMinimap();});function drag(simulation){return d3.drag().on(\"start\",event=>{if(!event.active)simulation.alphaTarget(0.3).restart();event.subject.fx=event.subject.x;event.subject.fy=event.subject.y;}).on(\"drag\",event=>{event.subject.fx=event.x;event.subject.fy=event.y;}).on(\"end\",event=>{if(!event.active)simulation.alphaTarget(0);dispatch(setNodePositions({[event.subject.id]:{fx:event.subject.fx,fy:event.subject.fy}}));});}const minimap=d3.select(minimapRef.current);const minimapScale=0.15;const minimapG=minimap.append(\"g\");const renderMinimap=()=>{minimapG.selectAll(\"*\").remove();minimapG.selectAll(\"line\").data(directedLinks).enter().append(\"line\").attr(\"x1\",d=>d.source.x*minimapScale).attr(\"y1\",d=>d.source.y*minimapScale).attr(\"x2\",d=>d.target.x*minimapScale).attr(\"y2\",d=>d.target.y*minimapScale).attr(\"stroke\",\"#999\").attr(\"stroke-width\",1);minimapG.selectAll(\"circle\").data(nodes).enter().append(\"circle\").attr(\"cx\",d=>d.x*minimapScale).attr(\"cy\",d=>d.y*minimapScale).attr(\"r\",4).attr(\"fill\",\"#00f2ff\");const viewTransform=d3.zoomTransform(svgRef.current);minimap.selectAll(\"rect.viewport\").remove();minimap.append(\"rect\").attr(\"class\",\"viewport\").attr(\"x\",-viewTransform.x*minimapScale/viewTransform.k).attr(\"y\",-viewTransform.y*minimapScale/viewTransform.k).attr(\"width\",width*minimapScale/viewTransform.k).attr(\"height\",height*minimapScale/viewTransform.k).attr(\"stroke\",\"#fff\").attr(\"fill\",\"none\").attr(\"stroke-width\",1);};const updateMinimapView=transform=>{renderMinimap();};},[nodes,links,dispatch,storedPositions]);return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",width:\"100%\",height:\"100%\"},children:[/*#__PURE__*/_jsx(\"svg\",{ref:svgRef,viewBox:\"0 0 1200 800\",preserveAspectRatio:\"xMidYMid meet\",style:{width:\"100%\",height:\"100%\",backgroundColor:\"#000\",backgroundImage:\"url('/graph-bg.png')\",backgroundSize:\"contain\",backgroundRepeat:\"no-repeat\",backgroundPosition:\"center\",cursor:\"grab\"}}),/*#__PURE__*/_jsx(\"svg\",{ref:minimapRef,width:200,height:150,style:{position:\"absolute\",top:10,right:10,border:\"1px solid #555\",background:\"#111\"}})]});};export default Graph;","map":{"version":3,"names":["React","useEffect","useRef","d3","useDispatch","useSelector","setNodePositions","jsx","_jsx","jsxs","_jsxs","Graph","_ref","nodes","links","svgRef","gRef","minimapRef","dispatch","storedPositions","state","graph","nodePositions","svg","select","current","selectAll","remove","width","height","inflowLinks","filter","link","_nodes$","_link$target","_nodes$2","target","id","outflowLinks","_nodes$3","_link$source","_nodes$4","source","centerNode","directedLinks","map","_link$source2","_link$target2","sourceId","targetId","g","append","zoom","scaleExtent","on","event","attr","transform","updateMinimapView","call","data","enter","d","parseFloat","amount","forEach","node","saved","fx","fy","simulation","forceSimulation","force","forceLink","distance","forceManyBody","strength","forceCenter","html","label","slice","dateTime","timestamp","drag","edgeLabels","style","text","_d$amount","replace","spacingX","spacingY","centerX","centerY","undefined","i","yOffset","length","sourceNode","find","n","targetNode","x","y","renderMinimap","active","alphaTarget","restart","subject","minimap","minimapScale","minimapG","viewTransform","zoomTransform","k","position","children","ref","viewBox","preserveAspectRatio","backgroundColor","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","cursor","top","right","border","background"],"sources":["C:/Users/Samri/wallet trans/wallet/src/components/Graph.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setNodePositions } from \"../store/graphSlice\"; \n\nconst Graph = ({ nodes, links }) => {\n  const svgRef = useRef();\n  const gRef = useRef();\n  const minimapRef = useRef();\n  const dispatch = useDispatch();\n  const storedPositions = useSelector((state) => state.graph.nodePositions);\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    const width = 1200;\n    const height = 800;\n\n    const inflowLinks = links.filter(link => link.target === nodes[0]?.id || link.target?.id === nodes[0]?.id);\n    const outflowLinks = links.filter(link => link.source === nodes[0]?.id || link.source?.id === nodes[0]?.id);\n    const centerNode = nodes[0];\n\n    const directedLinks = links.map(link => {\n      const sourceId = typeof link.source === \"string\" ? link.source : link.source?.id;\n      const targetId = typeof link.target === \"string\" ? link.target : link.target?.id;\n      if (sourceId === centerNode?.id) {\n        return { ...link, source: sourceId, target: targetId };\n      } else if (targetId === centerNode?.id) {\n        return { ...link, source: centerNode.id, target: sourceId };\n      }\n      return { ...link };\n    });\n\n    const g = svg.append(\"g\");\n    gRef.current = g;\n\n    const zoom = d3.zoom().scaleExtent([0.1, 10]).on(\"zoom\", (event) => {\n      g.attr(\"transform\", event.transform);\n      updateMinimapView(event.transform);\n    });\n    svg.call(zoom);\n\n    g.append(\"defs\").append(\"marker\")\n      .attr(\"id\", \"arrow\")\n      .attr(\"viewBox\", \"0 -5 10 10\")\n      .attr(\"refX\", 28)\n      .attr(\"refY\", 0)\n      .attr(\"markerWidth\", 6)\n      .attr(\"markerHeight\", 6)\n      .attr(\"orient\", \"auto\")\n      .append(\"path\")\n      .attr(\"d\", \"M0,-5L10,0L0,5\")\n      .attr(\"fill\", \"#00f2ff\");\n\n    const link = g.append(\"g\")\n      .selectAll(\"line\")\n      .data(directedLinks)\n      .enter()\n      .append(\"line\")\n      .attr(\"stroke-width\", 2.5)\n      .attr(\"stroke\", d => parseFloat(d.amount) > 1 ? \"#00f2ff\" : \"#ff00a1\")\n      .attr(\"stroke-dasharray\", d => parseFloat(d.amount) > 1 ? \"5,3\" : \"4,3\")\n      .attr(\"marker-end\", \"url(#arrow)\");\n\n    nodes.forEach((node) => {\n      const saved = storedPositions[node.id];\n      if (saved) {\n        node.fx = saved.fx;\n        node.fy = saved.fy;\n      }\n    });\n\n    const simulation = d3.forceSimulation(nodes)\n      .force(\"link\", d3.forceLink(directedLinks).id(d => d.id).distance(200))\n      .force(\"charge\", d3.forceManyBody().strength(-400))\n      .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n    const node = g.append(\"g\")\n      .selectAll(\"foreignObject\")\n      .data(nodes)\n      .enter()\n      .append(\"foreignObject\")\n      .attr(\"width\", 180)\n      .attr(\"height\", 60)\n      .attr(\"x\", -90)\n      .attr(\"y\", -30)\n      .html(d => {\n        const label = d.label || `${d.id.slice(0, 6)}...${d.id.slice(-6)}`;\n        const dateTime = d.timestamp\n          ? `<div style=\"font-size:10px; color:#eee; margin-top:2px;\">${d.timestamp}</div>`\n          : '';\n        return `\n          <div xmlns=\"http://www.w3.org/1999/xhtml\" style=\"\n            background: ${d.label === \"Changenow\" ? \"#ff8800\" : d.label === \"Whitebit\" ? \"#b794f4\" : d.label ? \"#ffb6c1\" : \"#38b2ac\"};\n            border-radius: 25px;\n            padding: 6px 10px;\n            color: white;\n            text-align: center;\n            font-size: 13px;\n            font-weight: 500;\n            box-shadow: 0 0 8px rgba(255,255,255,0.5);\n            cursor: move;\">\n            <div>${label}</div>\n            ${dateTime}\n          </div>`;\n      })\n      .call(drag(simulation));\n\n    const edgeLabels = g.append(\"g\")\n      .selectAll(\"text\")\n      .data(directedLinks)\n      .enter()\n      .append(\"text\")\n      .attr(\"fill\", \"#fff\")\n      .attr(\"font-size\", \"12px\")\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"text-anchor\", \"middle\")\n      .style(\"opacity\", 1)\n      .text(d => {\n        const amount = parseFloat(d.amount?.replace(\" BTC\", \"\"));\n        const timestamp = d.timestamp || \"\";\n        return `${amount} BTC | ${timestamp}`;\n      });\n\n    simulation.on(\"tick\", () => {\n      const spacingX = 350;\n      const spacingY = 200;\n      const centerX = width / 2;\n      const centerY = height / 2;\n\n      if (centerNode && centerNode.fx === undefined) {\n        centerNode.fx = centerX;\n        centerNode.fy = centerY;\n      }\n\n      inflowLinks.forEach((link, i) => {\n        const yOffset = inflowLinks.length === 1 ? -350 : (i - (inflowLinks.length - 1) / 2) * spacingY;\n        const sourceNode = typeof link.source === \"string\" ? nodes.find(n => n.id === link.source) : link.source;\n        if (sourceNode && sourceNode.fx === undefined) {\n          sourceNode.fx = centerX - spacingX;\n          sourceNode.fy = centerY + yOffset;\n        }\n      });\n\n      outflowLinks.forEach((link, i) => {\n        const yOffset = outflowLinks.length === 1 ? 150 : (i - (outflowLinks.length - 1) / 2) * spacingY;\n        const targetNode = typeof link.target === \"string\" ? nodes.find(n => n.id === link.target) : link.target;\n        if (targetNode && targetNode.fx === undefined) {\n          targetNode.fx = centerX + spacingX;\n          targetNode.fy = centerY + yOffset;\n        }\n      });\n\n      link\n        .attr(\"x1\", d => d.source.x)\n        .attr(\"y1\", d => d.source.y)\n        .attr(\"x2\", d => d.target.x)\n        .attr(\"y2\", d => d.target.y);\n\n      node\n        .attr(\"x\", d => d.x - 90)\n        .attr(\"y\", d => d.y - 30);\n\n      edgeLabels\n        .attr(\"x\", d => (d.source.x + d.target.x) / 2)\n        .attr(\"y\", d => (d.source.y + d.target.y) / 2 - 20);\n\n      renderMinimap(); \n    });\n\n    function drag(simulation) {\n      return d3.drag()\n        .on(\"start\", event => {\n          if (!event.active) simulation.alphaTarget(0.3).restart();\n          event.subject.fx = event.subject.x;\n          event.subject.fy = event.subject.y;\n        })\n        .on(\"drag\", event => {\n          event.subject.fx = event.x;\n          event.subject.fy = event.y;\n        })\n        .on(\"end\", event => {\n          if (!event.active) simulation.alphaTarget(0);\n          dispatch(setNodePositions({\n            [event.subject.id]: {\n              fx: event.subject.fx,\n              fy: event.subject.fy,\n            }\n          }));\n        });\n    }\n\n    \n    const minimap = d3.select(minimapRef.current);\n    const minimapScale = 0.15;\n    const minimapG = minimap.append(\"g\");\n\n    const renderMinimap = () => {\n      minimapG.selectAll(\"*\").remove();\n\n      minimapG.selectAll(\"line\")\n        .data(directedLinks)\n        .enter()\n        .append(\"line\")\n        .attr(\"x1\", d => d.source.x * minimapScale)\n        .attr(\"y1\", d => d.source.y * minimapScale)\n        .attr(\"x2\", d => d.target.x * minimapScale)\n        .attr(\"y2\", d => d.target.y * minimapScale)\n        .attr(\"stroke\", \"#999\")\n        .attr(\"stroke-width\", 1);\n\n      minimapG.selectAll(\"circle\")\n        .data(nodes)\n        .enter()\n        .append(\"circle\")\n        .attr(\"cx\", d => d.x * minimapScale)\n        .attr(\"cy\", d => d.y * minimapScale)\n        .attr(\"r\", 4)\n        .attr(\"fill\", \"#00f2ff\");\n\n      const viewTransform = d3.zoomTransform(svgRef.current);\n      minimap.selectAll(\"rect.viewport\").remove();\n\n      minimap.append(\"rect\")\n        .attr(\"class\", \"viewport\")\n        .attr(\"x\", -viewTransform.x * minimapScale / viewTransform.k)\n        .attr(\"y\", -viewTransform.y * minimapScale / viewTransform.k)\n        .attr(\"width\", width * minimapScale / viewTransform.k)\n        .attr(\"height\", height * minimapScale / viewTransform.k)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke-width\", 1);\n    };\n\n    const updateMinimapView = (transform) => {\n      renderMinimap();\n    };\n\n  }, [nodes, links, dispatch, storedPositions]);\n\n  return (\n    <div style={{ position: \"relative\", width: \"100%\", height: \"100%\" }}>\n      <svg\n        ref={svgRef}\n        viewBox=\"0 0 1200 800\"\n        preserveAspectRatio=\"xMidYMid meet\"\n        style={{\n          width: \"100%\",\n          height: \"100%\",\n          backgroundColor: \"#000\",\n          backgroundImage: \"url('/graph-bg.png')\",\n          backgroundSize: \"contain\",\n          backgroundRepeat: \"no-repeat\",\n          backgroundPosition: \"center\",\n          cursor: \"grab\"\n        }}\n      />\n      <svg\n        ref={minimapRef}\n        width={200}\n        height={150}\n        style={{\n          position: \"absolute\",\n          top: 10,\n          right: 10,\n          border: \"1px solid #555\",\n          background: \"#111\"\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Graph;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}