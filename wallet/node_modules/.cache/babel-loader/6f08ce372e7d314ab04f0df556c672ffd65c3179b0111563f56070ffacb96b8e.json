{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Samri\\\\wallet trans\\\\wallet\\\\src\\\\components\\\\Graph.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Graph = ({\n  nodes,\n  links,\n  theme\n}) => {\n  _s();\n  const svgRef = useRef();\n  const width = 800;\n  const height = 600;\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove(); // clear previous content\n\n    const container = svg.append(\"g\");\n\n    // Force simulation\n    const simulation = d3.forceSimulation(nodes).force(\"link\", d3.forceLink(links).id(d => d.id).distance(200)).force(\"charge\", d3.forceManyBody().strength(-400)).force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n    // Draw links\n    const link = container.append(\"g\").attr(\"stroke\", theme === \"dark\" ? \"#888\" : \"#999\").attr(\"stroke-opacity\", 0.6).selectAll(\"line\").data(links).join(\"line\").attr(\"stroke-width\", d => Math.sqrt(d.amount || 1));\n\n    // Draw nodes\n    const node = container.append(\"g\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 1.5).selectAll(\"circle\").data(nodes).join(\"circle\").attr(\"r\", 20).attr(\"fill\", theme === \"dark\" ? \"#69b3a2\" : \"#4682b4\").call(drag(simulation));\n\n    // Labels\n    const label = container.append(\"g\").attr(\"class\", \"node\").selectAll(\"text\").data(nodes).join(\"text\").text(d => d.label || d.id).attr(\"text-anchor\", \"middle\").attr(\"dy\", \"0.35em\").style(\"fill\", theme === \"dark\" ? \"#ffffff\" : \"#000000\").style(\"font-size\", \"12px\");\n\n    // Tick update\n    simulation.on(\"tick\", () => {\n      link.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n      node.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n      label.attr(\"x\", d => d.x).attr(\"y\", d => d.y);\n    });\n\n    // Zoom behavior\n    svg.call(d3.zoom().on(\"zoom\", event => {\n      container.attr(\"transform\", event.transform);\n    }));\n\n    // Download SVG event\n    const downloadListener = () => {\n      const svgElement = svgRef.current;\n      const svgData = new XMLSerializer().serializeToString(svgElement);\n      const blob = new Blob([svgData], {\n        type: \"image/svg+xml;charset=utf-8\"\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"graph.svg\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    };\n    window.addEventListener(\"download-svg\", downloadListener);\n    return () => {\n      window.removeEventListener(\"download-svg\", downloadListener);\n    };\n  }, [nodes, links, theme]);\n\n  // Drag behavior\n  function drag(simulation) {\n    return d3.drag().on(\"start\", (event, d) => {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      d.fx = d.x;\n      d.fy = d.y;\n    }).on(\"drag\", (event, d) => {\n      d.fx = event.x;\n      d.fy = event.y;\n    }).on(\"end\", (event, d) => {\n      if (!event.active) simulation.alphaTarget(0);\n      d.fx = null;\n      d.fy = null;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef,\n    className: `graph-svg ${theme}`,\n    width: \"100%\",\n    height: \"100%\",\n    viewBox: `0 0 ${width} ${height}`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n};\n_s(Graph, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = Graph;\nexport default Graph;\nvar _c;\n$RefreshReg$(_c, \"Graph\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","Graph","nodes","links","theme","_s","svgRef","width","height","svg","select","current","selectAll","remove","container","append","simulation","forceSimulation","force","forceLink","id","d","distance","forceManyBody","strength","forceCenter","link","attr","data","join","Math","sqrt","amount","node","call","drag","label","text","style","on","source","x","y","target","zoom","event","transform","downloadListener","svgElement","svgData","XMLSerializer","serializeToString","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","window","addEventListener","removeEventListener","active","alphaTarget","restart","fx","fy","ref","className","viewBox","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Samri/wallet trans/wallet/src/components/Graph.js"],"sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\n\nconst Graph = ({ nodes, links, theme }) => {\n  const svgRef = useRef();\n  const width = 800;\n  const height = 600;\n\n  useEffect(() => {\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove(); // clear previous content\n\n    const container = svg.append(\"g\");\n\n    // Force simulation\n    const simulation = d3.forceSimulation(nodes)\n      .force(\"link\", d3.forceLink(links).id(d => d.id).distance(200))\n      .force(\"charge\", d3.forceManyBody().strength(-400))\n      .force(\"center\", d3.forceCenter(width / 2, height / 2));\n\n    // Draw links\n    const link = container.append(\"g\")\n      .attr(\"stroke\", theme === \"dark\" ? \"#888\" : \"#999\")\n      .attr(\"stroke-opacity\", 0.6)\n      .selectAll(\"line\")\n      .data(links)\n      .join(\"line\")\n      .attr(\"stroke-width\", d => Math.sqrt(d.amount || 1));\n\n    // Draw nodes\n    const node = container.append(\"g\")\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-width\", 1.5)\n      .selectAll(\"circle\")\n      .data(nodes)\n      .join(\"circle\")\n      .attr(\"r\", 20)\n      .attr(\"fill\", theme === \"dark\" ? \"#69b3a2\" : \"#4682b4\")\n      .call(drag(simulation));\n\n    // Labels\n    const label = container.append(\"g\")\n      .attr(\"class\", \"node\")\n      .selectAll(\"text\")\n      .data(nodes)\n      .join(\"text\")\n      .text(d => d.label || d.id)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"dy\", \"0.35em\")\n      .style(\"fill\", theme === \"dark\" ? \"#ffffff\" : \"#000000\")\n      .style(\"font-size\", \"12px\");\n\n    // Tick update\n    simulation.on(\"tick\", () => {\n      link\n        .attr(\"x1\", d => d.source.x)\n        .attr(\"y1\", d => d.source.y)\n        .attr(\"x2\", d => d.target.x)\n        .attr(\"y2\", d => d.target.y);\n\n      node\n        .attr(\"cx\", d => d.x)\n        .attr(\"cy\", d => d.y);\n\n      label\n        .attr(\"x\", d => d.x)\n        .attr(\"y\", d => d.y);\n    });\n\n    // Zoom behavior\n    svg.call(\n      d3.zoom().on(\"zoom\", (event) => {\n        container.attr(\"transform\", event.transform);\n      })\n    );\n\n    // Download SVG event\n    const downloadListener = () => {\n      const svgElement = svgRef.current;\n      const svgData = new XMLSerializer().serializeToString(svgElement);\n      const blob = new Blob([svgData], { type: \"image/svg+xml;charset=utf-8\" });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = \"graph.svg\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n    };\n\n    window.addEventListener(\"download-svg\", downloadListener);\n    return () => {\n      window.removeEventListener(\"download-svg\", downloadListener);\n    };\n  }, [nodes, links, theme]);\n\n  // Drag behavior\n  function drag(simulation) {\n    return d3.drag()\n      .on(\"start\", (event, d) => {\n        if (!event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      })\n      .on(\"drag\", (event, d) => {\n        d.fx = event.x;\n        d.fy = event.y;\n      })\n      .on(\"end\", (event, d) => {\n        if (!event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      });\n  }\n\n  return (\n    <svg\n      ref={svgRef}\n      className={`graph-svg ${theme}`}\n      width=\"100%\"\n      height=\"100%\"\n      viewBox={`0 0 ${width} ${height}`}\n    />\n  );\n};\n\nexport default Graph;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}